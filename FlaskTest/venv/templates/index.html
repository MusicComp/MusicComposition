<!DOCTYPE html>
<html>
<title>Music Personality Test</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
<link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
<script src="{{ url_for('static', filename='scripts.js') }}"></script>
<script src='http://www.midijs.net/lib/midi.js'></script>

<body>

<audio id="my_audio" src="{{ url_for('static', filename='midi/introduction.mp3') }}"></audio>

<!-- Side Navigation -->
<nav class="w3-sidebar w3-bar-block w3-card w3-animate-left w3-center" style="display:none" id="mySidebar">
  <h1 class="w3-xxxlarge w3-text-theme">Select Your Level</h1>
  <button class="w3-bar-item w3-button" onclick="w3_close()">Close <i class="fa fa-remove"></i></button>
  <a href="#" class="w3-bar-item w3-button">Level 1</a>
  <a href="#" class="w3-bar-item w3-button">Level 2</a>
  <a href="#" class="w3-bar-item w3-button">Level 3</a>
</nav>

<!-- Header -->
<header class="w3-container w3-theme w3-padding" id="myHeader">
  <i onclick="w3_open()" class="fa fa-bars w3-xlarge w3-button w3-theme"></i>
  <div class="w3-center">
  <h4>What Famous Musician Are You?</h4>
  <h1 class="w3-xxxlarge w3-animate-bottom">Music Personality Test</h1>
  </div>
</header>

<br>

<div class="w3-row-padding w3-center w3-margin-top">
<div class="column" style="padding-left: 12px;">
  <div class="w3-card w3-container" style="min-height:460px">
  <h3>Choice #1</h3><br>
  <i class="fa fa-music w3-margin-bottom w3-text-theme" style="font-size:120px"></i><br>
  <p>Hover vs Opacity</p>
  <p>Questions above Choices</p>
  <p>W3 Scripts Errors</p>
  <p>Changing Songs on Hover</p>
  </div>
</div>
  <div class="gap">
    <br>
  </div>
<div class="column" style="padding-right: 12px;">
  <div class="w3-card w3-container" style="min-height:460px">
  <h3>Choice #2</h3><br>
  <i class="fa fa-volume-up w3-margin-bottom w3-text-theme" style="font-size:120px"></i><br>
  <p>Why is Flask such a Bitch</p>
  <p>Sure just don't render my JS</p>
  <p>Java > Python > JS</p>
  <p>What in the world is WSGI</p>
  </div>
</div>
</div>

</body>

<script>
// Setting up Variables
var columnList = document.getElementsByClassName("column");
var input = 3;

// Keyboard Input
document.addEventListener('keydown', function(event) {
    if (event.keyCode == 37) { // Left Arrow Key
        mouseEnter();
        input = 0;
    } else if (event.keyCode == 38) { // Up Arrow Key
        MIDIjs.play('{{ url_for('static', filename='midi/createdMidi.mid') }}');
    } else if (event.keyCode == 39) { // Right Arrow Key
        mouseEnter();
        input = 1;
    } else if (event.keyCode == 40) { // Down Arrow Key
        playIntro();
    } else if (event.keyCode == 32) { // Spacebar
        if (input == 0) {
          window.location = "http://127.0.0.1:5000/secondQuestion";
        } else if (input == 1) {
          window.location = "http://127.0.0.1:5000/secondQuestion"
        }
    }
});

// Hover Event
for (var i = 0; i < columnList.length; i++) {
    columnList[i].addEventListener("mouseenter", mouseEnter);
    columnList[i].addEventListener("mouseleave", mouseLeave);
}

// Currently Hovering
function mouseEnter() {
    MIDIjs.stop();
    MIDIjs.play('{{ url_for('static', filename='midi/createdMidi2.mid') }}');
}

// No Longer Hovering
function mouseLeave() {
    MIDIjs.stop();
    MIDIjs.play('{{ url_for('static', filename='midi/createdMidi3.mid') }}');
}

function playIntro() {
    document.getElementById("my_audio").play();
}

window.onload = function () {
    playIntro();
}

// Making a Choice
for (var i = 0; i < columnList.length; i++) {
    columnList[i].onclick = function() {
      selectAnswer(this);
    }
}

function selectAnswer(columnClicked) {
    if (columnClicked == columnList[0]) {
        window.location = "http://127.0.0.1:5000/secondQuestion";
    } else if (columnClicked == columnList[1]) {
        window.location = "http://127.0.0.1:5000/secondQuestion";
    }
}

</script>
</html>